package com.sust.service.impl;

import java.util.List;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Service;

import com.github.pagehelper.PageHelper;
import com.github.pagehelper.PageInfo;
import com.sust.bean.BuildMake;
import com.sust.bean.BuildMakeExample;
import com.sust.bean.TMake;
import com.sust.dao.BuildMakeMapper;
import com.sust.service.IBuildMakeService;
@Service
public class BuildMakeServiceImpl implements IBuildMakeService{
	@Autowired
	private BuildMakeMapper dao;
	@Override
	public void insertBuildMake(BuildMake buildMake) {
		dao.insertSelective(buildMake);
	}

	@Override
	public void deleteBuildMakeById(Integer id) {
		// TODO Auto-generated method stub
		BuildMakeExample example = new BuildMakeExample();
		example.createCriteria().andIdEqualTo(id);
		dao.deleteByExample(example);
		
	}


	@Override
	public BuildMake selectById(Integer id) {
		// TODO Auto-generated method stub
		BuildMakeExample example = new BuildMakeExample();
		example.createCriteria().andIdEqualTo(id);
		List<BuildMake> list = dao.selectByExample(example);
			for (BuildMake buildMake : list) {
				System.out.println("buildMake:"+buildMake.getMake());
			}
		return list.get(0);
	}

	@Override
	public BuildMake selectAll() {
		
		return null;
	}

	@Override
	public PageInfo<BuildMake> selectAllBuildMakePage(int curpage, int row) {
		// TODO Auto-generated method stub
		PageHelper.startPage(curpage,row);
		BuildMakeExample example = new BuildMakeExample();
		example.createCriteria().andIdIsNotNull();
		List<BuildMake> list = dao.selectByExample(example);
		PageInfo<BuildMake> pageInfo = new PageInfo<>(list);
		return pageInfo;
	}

	@Override
	public void updateBuildMake(BuildMake buildMake) {
		// TODO Auto-generated method stub
		BuildMakeExample example = new BuildMakeExample();
		example.createCriteria().andIdEqualTo(buildMake.getId());
		dao.updateByExampleSelective(buildMake, example);
		
	}

	@Override
	public PageInfo<BuildMake> selectByBuildId(int curPage,Integer id) {
		// TODO Auto-generated method stub
		PageHelper.startPage(curPage,10);
		BuildMakeExample example = new BuildMakeExample();
		example.createCriteria().andBuildIdEqualTo(id);
		List<BuildMake> list = dao.selectByExample(example);
		if (list.size()==0) {
			return null;
		}
		PageInfo<BuildMake> pageInfo = new PageInfo<>(list);
		return pageInfo;
	}

	@Override
	public BuildMake selectByBuildId(Integer id) {
		// TODO Auto-generated method stub
		BuildMake buildMake = dao.selectByBuildId(id);
	
		return buildMake;
	}

}
